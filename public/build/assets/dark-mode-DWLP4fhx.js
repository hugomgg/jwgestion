!function(){const t={THEME_KEY:"app-theme",THEME_LIGHT:"light",THEME_DARK:"dark",init:function(){const t=this.getSavedTheme();this.setTheme(t,!1),this.setupToggleButton()},getSavedTheme:function(){const t=localStorage.getItem(this.THEME_KEY);return t?t===this.THEME_DARK?this.THEME_DARK:this.THEME_LIGHT:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?this.THEME_DARK:this.THEME_LIGHT},saveTheme:function(t){localStorage.setItem(this.THEME_KEY,t)},setTheme:function(t,e=!0){const n=document.documentElement,o=document.body;t===this.THEME_DARK?(n.setAttribute("data-theme","dark"),o.setAttribute("data-theme","dark")):(n.removeAttribute("data-theme"),o.removeAttribute("data-theme")),this.updateToggleIcon(t),this.saveTheme(t),window.dispatchEvent(new CustomEvent("themeChanged",{detail:{theme:t}}))},toggleTheme:function(){const t=this.getSavedTheme()===this.THEME_LIGHT?this.THEME_DARK:this.THEME_LIGHT;this.setTheme(t)},updateToggleIcon:function(t){const e=document.querySelector(".theme-toggle-btn i");e&&(t===this.THEME_DARK?(e.classList.remove("fa-moon"),e.classList.add("fa-sun")):(e.classList.remove("fa-sun"),e.classList.add("fa-moon")))},setupToggleButton:function(){const t=this;document.addEventListener("click",function(e){e.target.closest(".theme-toggle-btn")&&(e.preventDefault(),t.toggleTheme())})}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){t.init()}):t.init(),window.ThemeManager=t}();
